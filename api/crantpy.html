
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>crantpy package &#8212; CRANTpy Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/crantpy';</script>
    <link rel="icon" href="../_static/logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="crantpy.queries package" href="crantpy.queries.html" />
    <link rel="prev" title="crantpy" href="modules.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content">📚 Tutorials available! Check out the Deep Dive Gallery.</div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="CRANTpy Documentation - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="CRANTpy Documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation &amp; Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Quickstart Tutorial</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Deep Dive</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/advanced_queries.html">Advanced Neuron Querying</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/visualization.html">Plotting Neurons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/morphology.html">Working with Neuron Morphology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/connectivity.html">Analyzing Connectivity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/segmentation.html">Using EM Segmentation Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/ngllink.html">From CRANTpy to Neuroglancer</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="modules.html">API Reference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="current reference internal" href="#">crantpy package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="crantpy.queries.html">crantpy.queries package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.connections.html">crantpy.queries.connections module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.neurons.html">crantpy.queries.neurons module</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="crantpy.utils.html">crantpy.utils package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.cave.html">crantpy.utils.cave package</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.config.html">crantpy.utils.config module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html">crantpy.utils.decorators module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.exceptions.html">crantpy.utils.exceptions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html">crantpy.utils.helpers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html">crantpy.utils.neuroglancer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.seatable.html">crantpy.utils.seatable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.types.html">crantpy.utils.types module</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="crantpy.viz.html">crantpy.viz package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.l2.html">crantpy.viz.l2 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.mesh.html">crantpy.viz.mesh module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html">crantpy.viz.skeletonize module</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgements</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/Social-Evolution-and-Behavior/crantpy" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/Social-Evolution-and-Behavior/crantpy/edit/main/docs/api/crantpy.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/Social-Evolution-and-Behavior/crantpy/issues/new?title=Issue%20on%20page%20%2Fapi/crantpy.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/api/crantpy.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>crantpy package</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subpackages">Subpackages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-crantpy">Module contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.FilteringError"><code class="docutils literal notranslate"><span class="pre">FilteringError</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.NoMatchesError"><code class="docutils literal notranslate"><span class="pre">NoMatchesError</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.add_annotation_layer"><code class="docutils literal notranslate"><span class="pre">add_annotation_layer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.add_skeleton_layer"><code class="docutils literal notranslate"><span class="pre">add_skeleton_layer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.attach_synapses"><code class="docutils literal notranslate"><span class="pre">attach_synapses()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.cached_per_id"><code class="docutils literal notranslate"><span class="pre">cached_per_id()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.cached_result"><code class="docutils literal notranslate"><span class="pre">cached_result()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.chunks_to_nm"><code class="docutils literal notranslate"><span class="pre">chunks_to_nm()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_all_caches"><code class="docutils literal notranslate"><span class="pre">clear_all_caches()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_cave_client_cache"><code class="docutils literal notranslate"><span class="pre">clear_cave_client_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_cloudvolume_cache"><code class="docutils literal notranslate"><span class="pre">clear_cloudvolume_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_global_cache"><code class="docutils literal notranslate"><span class="pre">clear_global_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.configure_urllib3_warning_suppression"><code class="docutils literal notranslate"><span class="pre">configure_urllib3_warning_suppression()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.construct_scene"><code class="docutils literal notranslate"><span class="pre">construct_scene()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.create_sql_query"><code class="docutils literal notranslate"><span class="pre">create_sql_query()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.decode_url"><code class="docutils literal notranslate"><span class="pre">decode_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.detect_soma_mesh"><code class="docutils literal notranslate"><span class="pre">detect_soma_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.detect_soma_skeleton"><code class="docutils literal notranslate"><span class="pre">detect_soma_skeleton()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.divide_local_neighbourhood"><code class="docutils literal notranslate"><span class="pre">divide_local_neighbourhood()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.encode_url"><code class="docutils literal notranslate"><span class="pre">encode_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.filter_df"><code class="docutils literal notranslate"><span class="pre">filter_df()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.generate_cave_token"><code class="docutils literal notranslate"><span class="pre">generate_cave_token()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_adjacency"><code class="docutils literal notranslate"><span class="pre">get_adjacency()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_cave_client"><code class="docutils literal notranslate"><span class="pre">get_cave_client()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_cave_datastacks"><code class="docutils literal notranslate"><span class="pre">get_cave_datastacks()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_cloudvolume"><code class="docutils literal notranslate"><span class="pre">get_cloudvolume()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_connectivity"><code class="docutils literal notranslate"><span class="pre">get_connectivity()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_current_cave_token"><code class="docutils literal notranslate"><span class="pre">get_current_cave_token()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_dataset_segmentation_source"><code class="docutils literal notranslate"><span class="pre">get_dataset_segmentation_source()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_datastack_segmentation_source"><code class="docutils literal notranslate"><span class="pre">get_datastack_segmentation_source()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_global_cache"><code class="docutils literal notranslate"><span class="pre">get_global_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_skeletons"><code class="docutils literal notranslate"><span class="pre">get_skeletons()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_soma_from_annotations"><code class="docutils literal notranslate"><span class="pre">get_soma_from_annotations()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_synapse_counts"><code class="docutils literal notranslate"><span class="pre">get_synapse_counts()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_synapses"><code class="docutils literal notranslate"><span class="pre">get_synapses()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.inject_dataset"><code class="docutils literal notranslate"><span class="pre">inject_dataset()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.is_latest_roots"><code class="docutils literal notranslate"><span class="pre">is_latest_roots()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.is_valid_root"><code class="docutils literal notranslate"><span class="pre">is_valid_root()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.is_valid_supervoxel"><code class="docutils literal notranslate"><span class="pre">is_valid_supervoxel()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.make_iterable"><code class="docutils literal notranslate"><span class="pre">make_iterable()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.map_position_to_node"><code class="docutils literal notranslate"><span class="pre">map_position_to_node()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.match_dtype"><code class="docutils literal notranslate"><span class="pre">match_dtype()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.neurons_to_url"><code class="docutils literal notranslate"><span class="pre">neurons_to_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.parse_neuroncriteria"><code class="docutils literal notranslate"><span class="pre">parse_neuroncriteria()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.parse_root_ids"><code class="docutils literal notranslate"><span class="pre">parse_root_ids()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.parse_timestamp"><code class="docutils literal notranslate"><span class="pre">parse_timestamp()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.plot_em_image"><code class="docutils literal notranslate"><span class="pre">plot_em_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.reroot_at_soma"><code class="docutils literal notranslate"><span class="pre">reroot_at_soma()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.retry"><code class="docutils literal notranslate"><span class="pre">retry()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.retry_func"><code class="docutils literal notranslate"><span class="pre">retry_func()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.scene_to_url"><code class="docutils literal notranslate"><span class="pre">scene_to_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.set_cave_token"><code class="docutils literal notranslate"><span class="pre">set_cave_token()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.set_default_dataset"><code class="docutils literal notranslate"><span class="pre">set_default_dataset()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.set_logging_level"><code class="docutils literal notranslate"><span class="pre">set_logging_level()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.skeletonize_neuron"><code class="docutils literal notranslate"><span class="pre">skeletonize_neuron()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.skeletonize_neurons_parallel"><code class="docutils literal notranslate"><span class="pre">skeletonize_neurons_parallel()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.suppress_urllib3_connectionpool_warnings"><code class="docutils literal notranslate"><span class="pre">suppress_urllib3_connectionpool_warnings()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.validate_cave_client"><code class="docutils literal notranslate"><span class="pre">validate_cave_client()</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="crantpy-package">
<h1>crantpy package<a class="headerlink" href="#crantpy-package" title="Link to this heading">#</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="crantpy.queries.html">crantpy.queries package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="crantpy.queries.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="crantpy.queries.connections.html">crantpy.queries.connections module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.connections.html#function-overview">Function Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.connections.html#crantpy.queries.connections.attach_synapses"><code class="docutils literal notranslate"><span class="pre">attach_synapses()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.connections.html#crantpy.queries.connections.get_adjacency"><code class="docutils literal notranslate"><span class="pre">get_adjacency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.connections.html#crantpy.queries.connections.get_connectivity"><code class="docutils literal notranslate"><span class="pre">get_connectivity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.connections.html#crantpy.queries.connections.get_synapse_counts"><code class="docutils literal notranslate"><span class="pre">get_synapse_counts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.queries.connections.html#crantpy.queries.connections.get_synapses"><code class="docutils literal notranslate"><span class="pre">get_synapses()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.queries.neurons.html">crantpy.queries.neurons module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="crantpy.queries.html#module-crantpy.queries">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="crantpy.queries.html#crantpy.queries.attach_synapses"><code class="docutils literal notranslate"><span class="pre">attach_synapses()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.queries.html#crantpy.queries.get_adjacency"><code class="docutils literal notranslate"><span class="pre">get_adjacency()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.queries.html#crantpy.queries.get_connectivity"><code class="docutils literal notranslate"><span class="pre">get_connectivity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.queries.html#crantpy.queries.get_synapse_counts"><code class="docutils literal notranslate"><span class="pre">get_synapse_counts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.queries.html#crantpy.queries.get_synapses"><code class="docutils literal notranslate"><span class="pre">get_synapses()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="crantpy.utils.html">crantpy.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="crantpy.utils.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.cave.html">crantpy.utils.cave package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.cave.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.cave.html#module-crantpy.utils.cave">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="crantpy.utils.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.config.html">crantpy.utils.config module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.config.html#crantpy.utils.config.set_default_dataset"><code class="docutils literal notranslate"><span class="pre">set_default_dataset()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.decorators.html">crantpy.utils.decorators module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html#crantpy.utils.decorators.cached_per_id"><code class="docutils literal notranslate"><span class="pre">cached_per_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html#crantpy.utils.decorators.cached_result"><code class="docutils literal notranslate"><span class="pre">cached_result()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html#crantpy.utils.decorators.clear_global_cache"><code class="docutils literal notranslate"><span class="pre">clear_global_cache()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html#crantpy.utils.decorators.get_global_cache"><code class="docutils literal notranslate"><span class="pre">get_global_cache()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html#crantpy.utils.decorators.inject_dataset"><code class="docutils literal notranslate"><span class="pre">inject_dataset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html#crantpy.utils.decorators.parse_neuroncriteria"><code class="docutils literal notranslate"><span class="pre">parse_neuroncriteria()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.decorators.html#crantpy.utils.decorators.retry_func"><code class="docutils literal notranslate"><span class="pre">retry_func()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.exceptions.html">crantpy.utils.exceptions module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.exceptions.html#crantpy.utils.exceptions.FilteringError"><code class="docutils literal notranslate"><span class="pre">FilteringError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.exceptions.html#crantpy.utils.exceptions.NoMatchesError"><code class="docutils literal notranslate"><span class="pre">NoMatchesError</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.helpers.html">crantpy.utils.helpers module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.create_sql_query"><code class="docutils literal notranslate"><span class="pre">create_sql_query()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.filter_df"><code class="docutils literal notranslate"><span class="pre">filter_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.make_iterable"><code class="docutils literal notranslate"><span class="pre">make_iterable()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.map_position_to_node"><code class="docutils literal notranslate"><span class="pre">map_position_to_node()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.match_dtype"><code class="docutils literal notranslate"><span class="pre">match_dtype()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.parse_root_ids"><code class="docutils literal notranslate"><span class="pre">parse_root_ids()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.parse_timestamp"><code class="docutils literal notranslate"><span class="pre">parse_timestamp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.plot_em_image"><code class="docutils literal notranslate"><span class="pre">plot_em_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.reroot_at_soma"><code class="docutils literal notranslate"><span class="pre">reroot_at_soma()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.retry"><code class="docutils literal notranslate"><span class="pre">retry()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.helpers.html#crantpy.utils.helpers.set_logging_level"><code class="docutils literal notranslate"><span class="pre">set_logging_level()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.neuroglancer.html">crantpy.utils.neuroglancer module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html#crantpy.utils.neuroglancer.add_annotation_layer"><code class="docutils literal notranslate"><span class="pre">add_annotation_layer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html#crantpy.utils.neuroglancer.add_skeleton_layer"><code class="docutils literal notranslate"><span class="pre">add_skeleton_layer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html#crantpy.utils.neuroglancer.construct_scene"><code class="docutils literal notranslate"><span class="pre">construct_scene()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html#crantpy.utils.neuroglancer.decode_url"><code class="docutils literal notranslate"><span class="pre">decode_url()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html#crantpy.utils.neuroglancer.encode_url"><code class="docutils literal notranslate"><span class="pre">encode_url()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html#crantpy.utils.neuroglancer.neurons_to_url"><code class="docutils literal notranslate"><span class="pre">neurons_to_url()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.utils.neuroglancer.html#crantpy.utils.neuroglancer.scene_to_url"><code class="docutils literal notranslate"><span class="pre">scene_to_url()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.seatable.html">crantpy.utils.seatable module</a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.types.html">crantpy.utils.types module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="crantpy.utils.html#module-crantpy.utils">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.FilteringError"><code class="docutils literal notranslate"><span class="pre">FilteringError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.NoMatchesError"><code class="docutils literal notranslate"><span class="pre">NoMatchesError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.add_annotation_layer"><code class="docutils literal notranslate"><span class="pre">add_annotation_layer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.add_skeleton_layer"><code class="docutils literal notranslate"><span class="pre">add_skeleton_layer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.cached_per_id"><code class="docutils literal notranslate"><span class="pre">cached_per_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.cached_result"><code class="docutils literal notranslate"><span class="pre">cached_result()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.clear_all_caches"><code class="docutils literal notranslate"><span class="pre">clear_all_caches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.clear_cave_client_cache"><code class="docutils literal notranslate"><span class="pre">clear_cave_client_cache()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.clear_cloudvolume_cache"><code class="docutils literal notranslate"><span class="pre">clear_cloudvolume_cache()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.clear_global_cache"><code class="docutils literal notranslate"><span class="pre">clear_global_cache()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.construct_scene"><code class="docutils literal notranslate"><span class="pre">construct_scene()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.create_sql_query"><code class="docutils literal notranslate"><span class="pre">create_sql_query()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.decode_url"><code class="docutils literal notranslate"><span class="pre">decode_url()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.encode_url"><code class="docutils literal notranslate"><span class="pre">encode_url()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.filter_df"><code class="docutils literal notranslate"><span class="pre">filter_df()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.generate_cave_token"><code class="docutils literal notranslate"><span class="pre">generate_cave_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.get_cave_client"><code class="docutils literal notranslate"><span class="pre">get_cave_client()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.get_cave_datastacks"><code class="docutils literal notranslate"><span class="pre">get_cave_datastacks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.get_cloudvolume"><code class="docutils literal notranslate"><span class="pre">get_cloudvolume()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.get_current_cave_token"><code class="docutils literal notranslate"><span class="pre">get_current_cave_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.get_dataset_segmentation_source"><code class="docutils literal notranslate"><span class="pre">get_dataset_segmentation_source()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.get_datastack_segmentation_source"><code class="docutils literal notranslate"><span class="pre">get_datastack_segmentation_source()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.get_global_cache"><code class="docutils literal notranslate"><span class="pre">get_global_cache()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.inject_dataset"><code class="docutils literal notranslate"><span class="pre">inject_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.is_latest_roots"><code class="docutils literal notranslate"><span class="pre">is_latest_roots()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.is_valid_root"><code class="docutils literal notranslate"><span class="pre">is_valid_root()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.is_valid_supervoxel"><code class="docutils literal notranslate"><span class="pre">is_valid_supervoxel()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.make_iterable"><code class="docutils literal notranslate"><span class="pre">make_iterable()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.map_position_to_node"><code class="docutils literal notranslate"><span class="pre">map_position_to_node()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.match_dtype"><code class="docutils literal notranslate"><span class="pre">match_dtype()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.neurons_to_url"><code class="docutils literal notranslate"><span class="pre">neurons_to_url()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.parse_neuroncriteria"><code class="docutils literal notranslate"><span class="pre">parse_neuroncriteria()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.parse_root_ids"><code class="docutils literal notranslate"><span class="pre">parse_root_ids()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.parse_timestamp"><code class="docutils literal notranslate"><span class="pre">parse_timestamp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.plot_em_image"><code class="docutils literal notranslate"><span class="pre">plot_em_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.reroot_at_soma"><code class="docutils literal notranslate"><span class="pre">reroot_at_soma()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.retry"><code class="docutils literal notranslate"><span class="pre">retry()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.retry_func"><code class="docutils literal notranslate"><span class="pre">retry_func()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.scene_to_url"><code class="docutils literal notranslate"><span class="pre">scene_to_url()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.set_cave_token"><code class="docutils literal notranslate"><span class="pre">set_cave_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.set_default_dataset"><code class="docutils literal notranslate"><span class="pre">set_default_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.set_logging_level"><code class="docutils literal notranslate"><span class="pre">set_logging_level()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.utils.html#crantpy.utils.validate_cave_client"><code class="docutils literal notranslate"><span class="pre">validate_cave_client()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="crantpy.viz.html">crantpy.viz package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="crantpy.viz.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.l2.html">crantpy.viz.l2 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.mesh.html">crantpy.viz.mesh module</a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.skeletonize.html">crantpy.viz.skeletonize module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.chunks_to_nm"><code class="docutils literal notranslate"><span class="pre">chunks_to_nm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.configure_urllib3_warning_suppression"><code class="docutils literal notranslate"><span class="pre">configure_urllib3_warning_suppression()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.detect_soma_mesh"><code class="docutils literal notranslate"><span class="pre">detect_soma_mesh()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.detect_soma_skeleton"><code class="docutils literal notranslate"><span class="pre">detect_soma_skeleton()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.divide_local_neighbourhood"><code class="docutils literal notranslate"><span class="pre">divide_local_neighbourhood()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.get_skeletons"><code class="docutils literal notranslate"><span class="pre">get_skeletons()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.get_soma_from_annotations"><code class="docutils literal notranslate"><span class="pre">get_soma_from_annotations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.skeletonize_neuron"><code class="docutils literal notranslate"><span class="pre">skeletonize_neuron()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.skeletonize_neurons_parallel"><code class="docutils literal notranslate"><span class="pre">skeletonize_neurons_parallel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="crantpy.viz.skeletonize.html#crantpy.viz.skeletonize.suppress_urllib3_connectionpool_warnings"><code class="docutils literal notranslate"><span class="pre">suppress_urllib3_connectionpool_warnings()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="crantpy.viz.html#module-crantpy.viz">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.chunks_to_nm"><code class="docutils literal notranslate"><span class="pre">chunks_to_nm()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.configure_urllib3_warning_suppression"><code class="docutils literal notranslate"><span class="pre">configure_urllib3_warning_suppression()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.detect_soma_mesh"><code class="docutils literal notranslate"><span class="pre">detect_soma_mesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.detect_soma_skeleton"><code class="docutils literal notranslate"><span class="pre">detect_soma_skeleton()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.divide_local_neighbourhood"><code class="docutils literal notranslate"><span class="pre">divide_local_neighbourhood()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.get_skeletons"><code class="docutils literal notranslate"><span class="pre">get_skeletons()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.get_soma_from_annotations"><code class="docutils literal notranslate"><span class="pre">get_soma_from_annotations()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.skeletonize_neuron"><code class="docutils literal notranslate"><span class="pre">skeletonize_neuron()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.skeletonize_neurons_parallel"><code class="docutils literal notranslate"><span class="pre">skeletonize_neurons_parallel()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="crantpy.viz.html#crantpy.viz.suppress_urllib3_connectionpool_warnings"><code class="docutils literal notranslate"><span class="pre">suppress_urllib3_connectionpool_warnings()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="module-crantpy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-crantpy" title="Link to this heading">#</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="crantpy.FilteringError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">FilteringError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/exceptions.html#FilteringError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.FilteringError" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a></p>
<p>Raised if a filtering operation fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The error message.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="crantpy.NoMatchesError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">NoMatchesError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/exceptions.html#NoMatchesError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.NoMatchesError" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a></p>
<p>Raised if no matches are found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The error message.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.add_annotation_layer">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">add_annotation_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connected</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/neuroglancer.html#add_annotation_layer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.add_annotation_layer" title="Link to this definition">#</a></dt>
<dd><p>Add annotations as new layer to scene.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotations</strong> (<em>array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Coordinates for annotations (in voxel space):
- (N, 3): Point annotations at x/y/z coordinates
- (N, 2, 3): Line segments with start and end points
- (N, 4): Ellipsoids with x/y/z center and radius</p></li>
<li><p><strong>scene</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – Scene to add annotation layer to.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Name for the annotation layer.</p></li>
<li><p><strong>connected</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, point annotations will be connected as a path (TODO).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Modified scene with annotation layer added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add point annotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scene</span> <span class="o">=</span> <span class="n">add_annotation_layer</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">scene</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_points&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add line annotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">60</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">70</span><span class="p">]]</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scene</span> <span class="o">=</span> <span class="n">add_annotation_layer</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">scene</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_lines&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.add_skeleton_layer">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">add_skeleton_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skeleton</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/neuroglancer.html#add_skeleton_layer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.add_skeleton_layer" title="Link to this definition">#</a></dt>
<dd><p>Add skeleton as line annotation layer to scene.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>skeleton</strong> (<em>TreeNeuron</em><em> or </em><em>DataFrame</em>) – Neuron skeleton to add. Coordinates must be in nanometers.
Will be automatically converted to voxel space.</p></li>
<li><p><strong>scene</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – Scene to add skeleton layer to.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Name for the skeleton layer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Modified scene with skeleton layer added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">skeleton</span> <span class="o">=</span> <span class="n">crt</span><span class="o">.</span><span class="n">viz</span><span class="o">.</span><span class="n">get_skeletons</span><span class="p">([</span><span class="mi">720575940621039145</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scene</span> <span class="o">=</span> <span class="n">construct_scene</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scene</span> <span class="o">=</span> <span class="n">add_skeleton_layer</span><span class="p">(</span><span class="n">skeleton</span><span class="p">,</span> <span class="n">scene</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.attach_synapses">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">attach_synapses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neurons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">materialization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/queries/connections.html#attach_synapses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.attach_synapses" title="Link to this definition">#</a></dt>
<dd><p>Attach synapses as connectors to skeleton neurons.</p>
<p>This function fetches synapses for the given neuron(s) and maps them to the
closest node on each skeleton using a KD-tree. The synapses are attached as
a <cite>.connectors</cite> table with columns for connector_id, x, y, z, type (pre/post),
partner_id, and node_id.</p>
<p>Adapted from fafbseg-py (Philipp Schlegel) to work with CRANTb data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neurons</strong> (<em>navis.TreeNeuron</em><em> or </em><em>navis.NeuronList</em>) – Skeleton neuron(s) to attach synapses to. Must be TreeNeuron objects
with node coordinates.</p></li>
<li><p><strong>pre</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to fetch and attach presynapses (outputs) for the given neurons.</p></li>
<li><p><strong>post</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to fetch and attach postsynapses (inputs) for the given neurons.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 1</em>) – Minimum number of synapses required between neuron pairs to be included.</p></li>
<li><p><strong>min_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Minimum synapse size for filtering.</p></li>
<li><p><strong>materialization</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'latest'</em>) – Materialization version to use. Either ‘latest’ or ‘live’.</p></li>
<li><p><strong>clean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to perform cleanup of synapse data:
- Remove autapses (self-connections)
- Remove connections involving neuron ID 0 (background)
- Remove synapses that are too far from skeleton nodes (see max_distance)</p></li>
<li><p><strong>max_distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default 10000.0</em>) – Maximum distance (in nanometers) between a synapse and its nearest skeleton
node. Synapses further than this are removed if clean=True. The default of
10um helps filter out spurious synapse annotations far from the actual neuron.</p></li>
<li><p><strong>update_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to automatically update outdated root IDs to their latest versions
before querying. This ensures accurate results even after segmentation edits.
Uses efficient per-ID caching to minimize overhead for repeated queries.
Set to False only if you’re certain all IDs are current (faster but risky).</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset to use for queries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The same neuron(s) with <cite>.connectors</cite> table attached. The connectors table
includes columns:
- connector_id: Unique ID for each synapse (sequential)
- x, y, z: Synapse coordinates in nanometers
- type: ‘pre’ for presynapses, ‘post’ for postsynapses
- partner_id: Root ID of the partner neuron
- node_id: ID of the skeleton node closest to this synapse</p>
<p>Note: The input neurons are modified in place and also returned.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>navis.TreeNeuron or navis.NeuronList</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.14)"><strong>TypeError</strong></a> – If neurons is not a TreeNeuron or NeuronList of TreeNeurons.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If both pre and post are False.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">crantpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get a skeleton neuron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeleton</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_l2_skeleton</span><span class="p">(</span><span class="mi">576460752664524086</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Attach synapses to it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeleton</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">attach_synapses</span><span class="p">(</span><span class="n">skeleton</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># View the connectors table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">skeleton</span><span class="o">.</span><span class="n">connectors</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get only presynapses</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeleton</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">attach_synapses</span><span class="p">(</span><span class="n">skeleton</span><span class="p">,</span> <span class="n">post</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Filter distant synapses more aggressively</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeleton</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">attach_synapses</span><span class="p">(</span><span class="n">skeleton</span><span class="p">,</span> <span class="n">max_distance</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Skip ID updates for faster queries (use only if IDs are known to be current)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeleton</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">attach_synapses</span><span class="p">(</span><span class="n">skeleton</span><span class="p">,</span> <span class="n">update_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#crantpy.get_synapses" title="crantpy.get_synapses"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_synapses</span></code></a></dt><dd><p>Fetch synapse data without attaching to neurons.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function modifies the input neurons in place by adding/updating the
.connectors attribute.</p></li>
<li><p>Synapses are mapped to skeleton nodes using scipy’s KDTree for efficient
nearest neighbor search.</p></li>
<li><p>The connector_id is a sequential integer starting from 0, not the original
synapse ID from the database.</p></li>
<li><p>If a neuron already has a .connectors table, it will be overwritten.</p></li>
<li><p>Synapse coordinates are automatically converted from pixels to nanometers
to match skeleton coordinate system (using SCALE_X=8, SCALE_Y=8, SCALE_Z=42).</p></li>
<li><p>When update_ids=True (default), IDs are automatically updated with efficient caching</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.cached_per_id">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">cached_per_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'old_id'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/decorators.html#cached_per_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.cached_per_id" title="Link to this definition">#</a></dt>
<dd><p>Decorator for caching function results on a per-ID basis.</p>
<p>This decorator caches results for individual IDs rather than entire function
calls. When the function is called with a list of IDs, it will:
1. Check which IDs have valid cached results
2. Only call the function for uncached IDs
3. Merge cached and new results
4. Cache the new results</p>
<p>This is particularly useful for functions like update_ids() where we want to
avoid re-computing results for IDs we’ve already processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Name of the global cache to use.</p></li>
<li><p><strong>id_param</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'x'</em>) – Name of the parameter containing the IDs to cache.</p></li>
<li><p><strong>max_age</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default MAXIMUM_CACHE_DURATION</em>) – Maximum age of cached results in seconds.</p></li>
<li><p><strong>result_id_column</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'old_id'</em>) – Column name in the result DataFrame that contains the ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The decorated function with per-ID caching capabilities.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The decorated function must return a pandas DataFrame</p></li>
<li><p>The ID parameter can be a list, array, or single ID</p></li>
<li><p>Cache entries are stored with timestamps for staleness checking</p></li>
<li><p>The function gains a <cite>clear_cache</cite> method to manually clear the cache</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@cached_per_id</span><span class="p">(</span><span class="n">cache_name</span><span class="o">=</span><span class="s2">&quot;update_ids_cache&quot;</span><span class="p">,</span> <span class="n">id_param</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">update_ids</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">dataset</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># Process IDs</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;old_id&#39;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;new_id&#39;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;changed&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># First call - computes all IDs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result1</span> <span class="o">=</span> <span class="n">update_ids</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Second call - uses cached results for IDs 2 and 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="n">update_ids</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.cached_result">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">cached_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">should_cache_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_cache_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/decorators.html#cached_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.cached_result" title="Link to this definition">#</a></dt>
<dd><p>Decorator for caching function results.</p>
<p>WARNING: This decorator is not thread-safe. It is recommended to use
threading.Lock() to ensure thread safety when using this decorator
in a multi-threaded environment.</p>
<p>This decorator provides a flexible caching mechanism for function results.
It supports custom cache keys, validation, and conditional caching, making
it suitable for a variety of use cases.</p>
<p>The cache stores entries in a dictionary structure:
{</p>
<blockquote>
<div><p>‘result’: original_function_result,
‘metadata’: {</p>
<blockquote>
<div><p>‘_created_at’: timestamp</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}</p>
<p>This approach avoids modifying the original result objects directly,
ensuring compatibility with immutable types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Name of the global cache to use. This is used to group cached results
under a specific namespace.</p></li>
<li><p><strong>max_age</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default MAXIMUM_CACHE_DURATION</em>) – Maximum age of cached result in seconds. Cached results older than
this duration are considered stale and will be refreshed.</p></li>
<li><p><strong>key_fn</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function to generate a unique cache key based on the function’s
arguments. Defaults to using the first positional argument or the
‘dataset’ keyword argument. If the function returns None, an error
will be raised.</p></li>
<li><p><strong>should_cache_fn</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function to determine whether the result of the function should be
cached. It takes the function result and arguments as input and
returns a boolean.</p></li>
<li><p><strong>validate_cache_fn</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function to validate if a cached result is still valid beyond the
age check. It takes the cached result and the function arguments as
input and returns a boolean.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The decorated function with caching capabilities.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Basic Caching:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@cached_result</span><span class="p">(</span><span class="n">cache_name</span><span class="o">=</span><span class="s2">&quot;example_cache&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">expensive_function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Custom Cache Key:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@cached_result</span><span class="p">(</span><span class="n">cache_name</span><span class="o">=</span><span class="s2">&quot;example_cache&quot;</span><span class="p">,</span> <span class="n">key_fn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;key_</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">expensive_function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Conditional Caching:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@cached_result</span><span class="p">(</span><span class="n">cache_name</span><span class="o">=</span><span class="s2">&quot;example_cache&quot;</span><span class="p">,</span> <span class="n">should_cache_fn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">result</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">result</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">expensive_function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Cache Validation:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">validate_cache</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@cached_result</span><span class="p">(</span><span class="n">cache_name</span><span class="o">=</span><span class="s2">&quot;example_cache&quot;</span><span class="p">,</span> <span class="n">validate_cache_fn</span><span class="o">=</span><span class="n">validate_cache</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">expensive_function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The decorated function gains a <cite>clear_cache</cite> method to manually clear
the cache for the specified <cite>cache_name</cite>.</p></li>
<li><p>The <cite>check_stale</cite> parameter can be used to skip staleness checks when
calling the decorated function.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.chunks_to_nm">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">chunks_to_nm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz_ch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[4,</span> <span class="pre">4,</span> <span class="pre">40]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#chunks_to_nm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.chunks_to_nm" title="Link to this definition">#</a></dt>
<dd><p>Map a chunk location to Euclidean space. CV workaround Implemented here after Giacomo’s suggestion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xyz_ch</strong> (<em>array-like</em>) – (N, 3) array of chunk indices.</p></li>
<li><p><strong>vol</strong> (<em>cloudvolume.CloudVolume</em>) – CloudVolume object associated with the chunked space.</p></li>
<li><p><strong>voxel_resolution</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>optional</em>) – Voxel resolution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(N, 3) array of spatial points.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.clear_all_caches">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">clear_all_caches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#clear_all_caches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.clear_all_caches" title="Link to this definition">#</a></dt>
<dd><p>Clears all caches.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.clear_cave_client_cache">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">clear_cave_client_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#clear_cave_client_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.clear_cave_client_cache" title="Link to this definition">#</a></dt>
<dd><p>Clears the CAVE client cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.clear_cloudvolume_cache">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">clear_cloudvolume_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#clear_cloudvolume_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.clear_cloudvolume_cache" title="Link to this definition">#</a></dt>
<dd><p>Clears the cloudvolume cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.clear_global_cache">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">clear_global_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/decorators.html#clear_global_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.clear_global_cache" title="Link to this definition">#</a></dt>
<dd><p>Clear a named global cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cache_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Name of the cache to clear</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.configure_urllib3_warning_suppression">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">configure_urllib3_warning_suppression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#configure_urllib3_warning_suppression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.configure_urllib3_warning_suppression" title="Link to this definition">#</a></dt>
<dd><p>Enable suppression of known cosmetic urllib3 warnings.</p>
<p>Trade-offs: Hiding warnings can make it harder to notice real connectivity
issues. When enabled, only the specific connection pool message is filtered;
other warnings remain visible. Does not call urllib3.disable_warnings().</p>
<p>Control via <cite>enable</cite> or environment variable <cite>CRANTPY_SUPPRESS_URLLIB3_WARNINGS</cite>.</p>
<p>Returns True if suppression is enabled, False otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enable</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em> | </em><em>None</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.construct_scene">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">construct_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segmentation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brain_mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_biased_seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nuclei</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_neuroglancer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'xy-3d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/neuroglancer.html#construct_scene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.construct_scene" title="Link to this definition">#</a></dt>
<dd><p>Construct a basic neuroglancer scene for CRANT data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to add the aligned EM image layer.</p></li>
<li><p><strong>segmentation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to add the proofreadable segmentation layer.</p></li>
<li><p><strong>brain_mesh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to add the brain mesh layer.</p></li>
<li><p><strong>merge_biased_seg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to add the merge-biased segmentation layer (for proofreading).</p></li>
<li><p><strong>nuclei</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to add the nuclei segmentation layer.</p></li>
<li><p><strong>base_neuroglancer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to use base neuroglancer (affects segmentation layer format).</p></li>
<li><p><strong>layout</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default &quot;xy-3d&quot;</em>) – Layout to show. Options: “3d”, “xy-3d”, “xy”, “4panel”.</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Which dataset to use (“latest” or “sandbox”). If None, uses default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Neuroglancer scene dictionary with requested layers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a minimal visualization scene</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scene</span> <span class="o">=</span> <span class="n">construct_scene</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">brain_mesh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a full proofreading scene</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scene</span> <span class="o">=</span> <span class="n">construct_scene</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">image</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">brain_mesh</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">merge_biased_seg</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">nuclei</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.create_sql_query">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">create_sql_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#create_sql_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.create_sql_query" title="Link to this definition">#</a></dt>
<dd><p>Creates a SQL query to get the specified fields from the specified table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The name of the table to query.</p></li>
<li><p><strong>fields</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>]</em>) – The list of field names to include in the query.</p></li>
<li><p><strong>condition</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The WHERE clause of the query.</p></li>
<li><p><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum number of rows to return.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rows to skip (OFFSET).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The constructed SQL query string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.decode_url">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">decode_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'json'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/neuroglancer.html#decode_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.decode_url" title="Link to this definition">#</a></dt>
<dd><p>Decode neuroglancer URL to extract information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Neuroglancer URL(s) to decode.</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default &quot;json&quot;</em>) – Output format:
- “json”: Full scene dictionary
- “brief”: Dict with position, selected segments, and annotations
- “dataframe”: DataFrame with segment IDs and their layers</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decoded information in requested format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a> or DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://spelunker.cave-explorer.org/#!{...}&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">decode_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;brief&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;selected&#39;</span><span class="p">])</span>  <span class="c1"># List of selected segment IDs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">])</span>  <span class="c1"># [x, y, z] coordinates</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.detect_soma_mesh">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">detect_soma_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#detect_soma_mesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.detect_soma_mesh" title="Link to this definition">#</a></dt>
<dd><p>Try detecting the soma based on vertex clusters.</p>
<p>Identifies dense vertex clusters that likely represent the soma.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mesh</strong> (<em>trimesh.Trimesh</em>) – Coordinates in nanometers. Mesh must not be downsampled for
accurate detection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of vertex indices that belong to the detected soma region.
Returns empty array if no soma is detected.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.detect_soma_skeleton">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">detect_soma_skeleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_rad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#detect_soma_skeleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.detect_soma_skeleton" title="Link to this definition">#</a></dt>
<dd><p>Try detecting the soma based on radii.</p>
<p>Looks for consecutive nodes with large radii to identify soma. Includes
additional checks to ensure the skeleton is valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>navis.TreeNeuron</em>) – The skeleton to analyze for soma detection.</p></li>
<li><p><strong>min_rad</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 800</em>) – Minimum radius for a node to be considered a soma candidate (in nm).</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 3</em>) – Number of consecutive nodes with radius &gt; <cite>min_rad</cite> needed
to consider them soma candidates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Node ID of the detected soma, or None if no soma found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.divide_local_neighbourhood">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">divide_local_neighbourhood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#divide_local_neighbourhood"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.divide_local_neighbourhood" title="Link to this definition">#</a></dt>
<dd><p>Divide the mesh into locally connected patches of a given size (overlapping).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mesh</strong> (<em>trimesh.Trimesh</em>) – The mesh to divide.</p></li>
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The radius (in mesh units) for local neighborhoods.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each set contains vertex indices belonging to a local patch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of sets</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.encode_url">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">encode_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeletons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invis_segs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_neuroglancer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'xy-3d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_clipboard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shorten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/neuroglancer.html#encode_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.encode_url" title="Link to this definition">#</a></dt>
<dd><p>Encode data as CRANT neuroglancer scene URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Segment IDs (root IDs) to have selected in the scene.</p></li>
<li><p><strong>annotations</strong> (<em>array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>, </em><em>optional</em>) – Coordinates for annotations:
- (N, 3) array: Point annotations at x/y/z coordinates (in voxels)
- dict: Multiple annotation layers {name: (N, 3) array}</p></li>
<li><p><strong>coords</strong> (<em>(</em><em>3</em><em>,</em><em>) </em><em>array</em><em>, </em><em>optional</em>) – X, Y, Z coordinates (in voxels) to center the view on.</p></li>
<li><p><strong>skeletons</strong> (<em>TreeNeuron</em><em> or </em><em>NeuronList</em><em>, </em><em>optional</em>) – Skeleton(s) to add as annotation layer(s). Must be in nanometers.</p></li>
<li><p><strong>skeleton_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Names for the skeleton(s) to display in the UI. If a single string is provided,
it will be used for all skeletons. If a list is provided, its length must
match the number of skeletons.</p></li>
<li><p><strong>seg_colors</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>, or </em><em>array</em><em>, </em><em>optional</em>) – Colors for segments:
- str or tuple: Single color for all segments
- list: List of colors matching segments
- dict: Mapping of segment IDs to colors
- array: Labels that will be converted to colors</p></li>
<li><p><strong>seg_groups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>, </em><em>optional</em>) – Group segments into separate layers:
- list: Group labels matching segments
- dict: {group_name: [seg_id1, seg_id2, …]}</p></li>
<li><p><strong>invis_segs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>optional</em>) – Segment IDs to select but keep invisible.</p></li>
<li><p><strong>scene</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Existing scene to modify (as dict or URL string).</p></li>
<li><p><strong>base_neuroglancer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to use base neuroglancer instead of CAVE Spelunker.</p></li>
<li><p><strong>layout</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default &quot;xy-3d&quot;</em>) – Layout to show. Options: “3d”, “xy-3d”, “xy”, “4panel”.</p></li>
<li><p><strong>open</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, opens the URL in a web browser.</p></li>
<li><p><strong>to_clipboard</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, copies the URL to clipboard (requires pyperclip).</p></li>
<li><p><strong>shorten</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, creates a shortened URL (requires state server).</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Which dataset to use. If None, uses default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Neuroglancer URL.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Simple scene with segments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="n">encode_url</span><span class="p">(</span><span class="n">segments</span><span class="o">=</span><span class="p">[</span><span class="mi">720575940621039145</span><span class="p">,</span> <span class="mi">720575940621039146</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Scene with colored segments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="n">encode_url</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">segments</span><span class="o">=</span><span class="p">[</span><span class="mi">720575940621039145</span><span class="p">,</span> <span class="mi">720575940621039146</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">seg_colors</span><span class="o">=</span><span class="p">{</span><span class="mi">720575940621039145</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">720575940621039146</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Scene with skeleton and centered view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">navis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeleton</span> <span class="o">=</span> <span class="n">crt</span><span class="o">.</span><span class="n">viz</span><span class="o">.</span><span class="n">get_skeletons</span><span class="p">([</span><span class="mi">720575940621039145</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="n">encode_url</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">segments</span><span class="o">=</span><span class="p">[</span><span class="mi">720575940621039145</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">skeletons</span><span class="o">=</span><span class="n">skeleton</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">coords</span><span class="o">=</span><span class="p">[</span><span class="mi">24899</span><span class="p">,</span> <span class="mi">14436</span><span class="p">,</span> <span class="mi">3739</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.filter_df">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">filter_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#filter_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.filter_df" title="Link to this definition">#</a></dt>
<dd><p>This function filters a df based on a column and a value.
It can handle string, numeric, and list-containing columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>pd.DataFrame</strong><strong>)</strong> (<em>df</em>)</p></li>
<li><p><strong>(</strong><strong>str</strong><strong>)</strong> (<em>column</em>)</p></li>
<li><p><strong>(</strong><strong>Any</strong><strong>)</strong> (<em>value</em>)</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> (<em>exact</em>)</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong></p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> – if True, requires all filter values to be present in the cell’s list.
If False, requires at least one filter value to be present.
Defaults to False.</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong></p></li>
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.3)"><em>pandas.DataFrame</em></a>)</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>)</p></li>
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>)</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>)</p></li>
<li><p><strong>case</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>)</p></li>
<li><p><strong>match_all</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>)</p></li>
<li><p><strong>exact</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pd.DataFrame</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The filtered df.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.generate_cave_token">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">generate_cave_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/auth.html#generate_cave_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.generate_cave_token" title="Link to this definition">#</a></dt>
<dd><p>Generates a token for the CAVE client.
If save is True, the token will be saved (overwriting any existing token).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>save</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to save the token after generation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_adjacency">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_adjacency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pre_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">materialization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/queries/connections.html#get_adjacency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_adjacency" title="Link to this definition">#</a></dt>
<dd><p>Construct an adjacency matrix from synaptic connections between neurons.</p>
<p>This function queries the synapses table to get connections between specified
pre- and post-synaptic neurons, then constructs an adjacency matrix showing
the number of synapses between each pair.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pre_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>NeuronCriteria</em><em>, </em><em>optional</em>) – Pre-synaptic neuron root IDs or criteria. If None, all pre-synaptic
neurons in the dataset will be included.</p></li>
<li><p><strong>post_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>NeuronCriteria</em><em>, </em><em>optional</em>) – Post-synaptic neuron root IDs or criteria. If None, all post-synaptic
neurons in the dataset will be included.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 1</em>) – Minimum number of synapses required between a pair to be included
in the adjacency matrix.</p></li>
<li><p><strong>min_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Minimum size for filtering synapses before constructing adjacency matrix.</p></li>
<li><p><strong>materialization</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'latest'</em>) – Materialization version to use. ‘latest’ (default) or ‘live’ for live table.</p></li>
<li><p><strong>symmetric</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, return a symmetric adjacency matrix with the same set of IDs on
both rows and columns. The neuron set includes all neurons that appear
in the filtered synapses data (union of all pre- and post-synaptic neurons).
This provides a complete view of connectivity among all neurons involved
in the queried connections.
If False (default), rows represent pre-synaptic neurons and columns
represent post-synaptic neurons from the actual synapses data.</p></li>
<li><p><strong>clean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to perform cleanup of the underlying synapse data:
- Remove autapses (self-connections)
- Remove connections involving neuron ID 0 (background)
This parameter is passed to get_synapses().</p></li>
<li><p><strong>update_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to automatically update outdated root IDs to their latest versions
before querying. This ensures accurate results even after segmentation edits.
Uses efficient per-ID caching to minimize overhead for repeated queries.
Set to False only if you’re certain all IDs are current (faster but risky).</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset to use for the query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An adjacency matrix where each entry [i, j] represents the number of
synapses from neuron i (pre-synaptic) to neuron j (post-synaptic).
Rows are pre-synaptic neurons, columns are post-synaptic neurons.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">crantpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get adjacency between specific neurons</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adj</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_adjacency</span><span class="p">(</span><span class="n">pre_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752641833774</span><span class="p">],</span> <span class="n">post_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752777916050</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get adjacency with minimum threshold</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adj</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_adjacency</span><span class="p">(</span><span class="n">pre_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752641833774</span><span class="p">],</span> <span class="n">post_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752777916050</span><span class="p">],</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get symmetric adjacency matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adj</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_adjacency</span><span class="p">(</span><span class="n">pre_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752641833774</span><span class="p">],</span> <span class="n">post_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752777916050</span><span class="p">],</span> <span class="n">symmetric</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get adjacency matrix with autapses included</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adj</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_adjacency</span><span class="p">(</span><span class="n">pre_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752641833774</span><span class="p">],</span> <span class="n">post_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752777916050</span><span class="p">],</span> <span class="n">clean</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Skip ID updates for faster queries (use only if IDs are known to be current)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adj</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_adjacency</span><span class="p">(</span><span class="n">pre_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752641833774</span><span class="p">],</span> <span class="n">post_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">576460752777916050</span><span class="p">],</span> <span class="n">update_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function uses get_synapses() internally to retrieve synaptic connections</p></li>
<li><p>If both pre_ids and post_ids are None, this will query all synapses in the dataset</p></li>
<li><p>The threshold parameter filters connection pairs, not individual synapses</p></li>
<li><p>When symmetric=True, the resulting matrix includes all neurons that appear in the
filtered synapses data, ensuring complete connectivity visualization</p></li>
<li><p>When symmetric=False, the matrix may be rectangular with different neuron sets
for rows (pre-synaptic) and columns (post-synaptic)</p></li>
<li><p>When clean=True (default), autapses and background connections are removed</p></li>
<li><p>When update_ids=True (default), IDs are automatically updated with efficient caching</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_cave_client">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_cave_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_stale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#get_cave_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_cave_client" title="Link to this definition">#</a></dt>
<dd><p>Returns a CAVE client instance.
If a token is already set, it will be used for authentication.
Otherwise, a new token will be generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clear_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, bypasses the cache and fetches a new client.</p></li>
<li><p><strong>check_stale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, checks if the cached client is stale based on materialization and maximum cache duration.</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The dataset to use. If not provided, uses the default dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A CAVE client instance authenticated with the token.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>CAVEclient</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If no token is found after attempting to generate one.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_cave_datastacks">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_cave_datastacks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#get_cave_datastacks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_cave_datastacks" title="Link to this definition">#</a></dt>
<dd><p>Get available CAVE datastacks.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_cloudvolume">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_cloudvolume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_stale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#get_cloudvolume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_cloudvolume" title="Link to this definition">#</a></dt>
<dd><p>Returns a cloudvolume instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>)</p></li>
<li><p><strong>clear_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>)</p></li>
<li><p><strong>check_stale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>caveclient.CAVEclient</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_connectivity">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_connectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neuron_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upstream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downstream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">materialization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/queries/connections.html#get_connectivity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_connectivity" title="Link to this definition">#</a></dt>
<dd><p>Fetch connectivity information for given neuron(s) in CRANTb.</p>
<p>This function retrieves synaptic connections for the specified neurons,
returning a table of connections with pre-synaptic neurons, post-synaptic
neurons, and synapse counts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neuron_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>NeuronCriteria</em>) – Neuron root ID(s) to query connectivity for. Can be a single ID,
list of IDs, or NeuronCriteria object.</p></li>
<li><p><strong>upstream</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to fetch upstream (incoming) connectivity to the query neurons.</p></li>
<li><p><strong>downstream</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to fetch downstream (outgoing) connectivity from the query neurons.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 1</em>) – Minimum number of synapses required between a pair to be included
in the results.</p></li>
<li><p><strong>min_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Minimum size for filtering synapses before aggregating connections.</p></li>
<li><p><strong>materialization</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'latest'</em>) – Materialization version to use. ‘latest’ (default) or ‘live’ for live table.</p></li>
<li><p><strong>clean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to perform cleanup of the underlying synapse data:
- Remove autapses (self-connections)
- Remove connections involving neuron ID 0 (background)
This parameter is passed to get_synapses().</p></li>
<li><p><strong>update_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to automatically update outdated root IDs to their latest versions
before querying. This ensures accurate results even after segmentation edits.
Uses efficient per-ID caching to minimize overhead for repeated queries.
Set to False only if you’re certain all IDs are current (faster but risky).</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset to use for the query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Connectivity table with columns:
- ‘pre’: pre-synaptic neuron ID
- ‘post’: post-synaptic neuron ID
- ‘weight’: number of synapses between the pair</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If both upstream and downstream are False.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">crantpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get all connections for a neuron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_connectivity</span><span class="p">(</span><span class="mi">576460752641833774</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get only downstream connections with threshold</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_connectivity</span><span class="p">(</span><span class="mi">576460752641833774</span><span class="p">,</span> <span class="n">upstream</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get connectivity for multiple neurons</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_connectivity</span><span class="p">([</span><span class="mi">576460752641833774</span><span class="p">,</span> <span class="mi">576460752777916050</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Skip ID updates for faster queries (use only if IDs are known to be current)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_connectivity</span><span class="p">(</span><span class="mi">576460752641833774</span><span class="p">,</span> <span class="n">update_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function uses get_synapses() internally to retrieve synaptic connections</p></li>
<li><p>Results are aggregated by pre-post neuron pairs and sorted by synapse count</p></li>
<li><p>When clean=True, autapses and background connections are removed</p></li>
<li><p>When update_ids=True (default), IDs are automatically updated with efficient caching</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_current_cave_token">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_current_cave_token</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/auth.html#get_current_cave_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_current_cave_token" title="Link to this definition">#</a></dt>
<dd><p>Retrieves the current token from the CAVE client.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current CAVE token.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If no token is found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_dataset_segmentation_source">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_dataset_segmentation_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#get_dataset_segmentation_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_dataset_segmentation_source" title="Link to this definition">#</a></dt>
<dd><p>Get segmentation source for given dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_datastack_segmentation_source">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_datastack_segmentation_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datastack</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#get_datastack_segmentation_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_datastack_segmentation_source" title="Link to this definition">#</a></dt>
<dd><p>Get segmentation source for given CAVE datastack.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_global_cache">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_global_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/decorators.html#get_global_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_global_cache" title="Link to this definition">#</a></dt>
<dd><p>Get a named global cache dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cache_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Name of the cache to retrieve</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested cache dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_skeletons">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_skeletons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omit_failures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#get_skeletons"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_skeletons" title="Link to this definition">#</a></dt>
<dd><p>Fetch skeletons for multiple neurons.</p>
<p>Tries to get precomputed skeletons first, then falls back to
on-demand skeletonization if needed. if id more than one root_id, it will use the parallel skeletonization function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> or </em><em>np.ndarray</em>) – Root IDs of neurons to fetch skeletons for.</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'latest'</em>) – Dataset to query against.</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Show progress during fetching.</p></li>
<li><p><strong>omit_failures</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – None: raise exception on failures
True: skip failed neurons
False: return empty TreeNeuron for failed cases</p></li>
<li><p><strong>max_threads</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 6</em>) – Number of parallel threads for fetching skeletons.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments passed to skeletonization if needed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of successfully fetched/generated skeletons.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>navis.NeuronList</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_soma_from_annotations">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_soma_from_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#get_soma_from_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_soma_from_annotations" title="Link to this definition">#</a></dt>
<dd><p>Try to get soma location from nucleus annotations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Root ID of the neuron to get soma information for.</p></li>
<li><p><strong>client</strong> (<em>CAVEclient</em>) – CAVE client for data access.</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset identifier (handled by decorators if not provided).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(x, y, z) coordinates of the soma in nanometers, or None if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_synapse_counts">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_synapse_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neuron_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">materialization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/queries/connections.html#get_synapse_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_synapse_counts" title="Link to this definition">#</a></dt>
<dd><p>Get synapse counts (pre and post) for given neuron IDs in CRANTb.</p>
<p>This function returns the total number of presynaptic and postsynaptic
connections for each specified neuron, aggregated across all their partners.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neuron_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>NeuronCriteria</em>) – Neuron root ID(s) to get synapse counts for. Can be a single ID,
list of IDs, or NeuronCriteria object.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 1</em>) – Minimum number of synapses required between a pair to be counted
towards the total. Pairs with fewer synapses are excluded.</p></li>
<li><p><strong>min_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Minimum size for filtering individual synapses before counting.</p></li>
<li><p><strong>materialization</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'latest'</em>) – Materialization version to use. ‘latest’ (default) or ‘live’ for live table.</p></li>
<li><p><strong>clean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to perform cleanup of the underlying synapse data:
- Remove autapses (self-connections)
- Remove connections involving neuron ID 0 (background)
This parameter is passed to get_connectivity().</p></li>
<li><p><strong>update_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to automatically update outdated root IDs to their latest versions
before querying. This ensures accurate results even after segmentation edits.
Uses efficient per-ID caching to minimize overhead for repeated queries.
Set to False only if you’re certain all IDs are current (faster but risky).</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset to use for the query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with columns:
- index: neuron IDs
- ‘pre’: number of presynaptic connections (outgoing)
- ‘post’: number of postsynaptic connections (incoming)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">crantpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get synapse counts for a single neuron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_synapse_counts</span><span class="p">(</span><span class="mi">576460752641833774</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get counts for multiple neurons with threshold</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_synapse_counts</span><span class="p">([</span><span class="mi">576460752641833774</span><span class="p">,</span> <span class="mi">576460752777916050</span><span class="p">],</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Skip ID updates for faster queries (use only if IDs are known to be current)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_synapse_counts</span><span class="p">(</span><span class="mi">576460752641833774</span><span class="p">,</span> <span class="n">update_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function uses get_connectivity() internally to get connection data</p></li>
<li><p>Counts represent the number of distinct synaptic partners, not individual synapses</p></li>
<li><p>The threshold is applied at the connection level (pairs of neurons)</p></li>
<li><p>When update_ids=True (default), IDs are automatically updated with efficient caching</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.get_synapses">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">get_synapses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pre_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">materialization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_pixels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/queries/connections.html#get_synapses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.get_synapses" title="Link to this definition">#</a></dt>
<dd><p>Fetch synapses for a given set of pre- and/or post-synaptic neuron IDs in CRANTb.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pre_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>int/str</em><em>, </em><em>NeuronCriteria</em><em>, </em><em>optional</em>) – Pre-synaptic neuron root ID(s) to include. Can be a single ID, list of IDs,
or NeuronCriteria object.</p></li>
<li><p><strong>post_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>int/str</em><em>, </em><em>NeuronCriteria</em><em>, </em><em>optional</em>) – Post-synaptic neuron root ID(s) to include. Can be a single ID, list of IDs,
or NeuronCriteria object.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 1</em>) – Minimum number of synapses required for a partner to be retained.
Currently we don’t know what a good threshold is.</p></li>
<li><p><strong>min_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Minimum size for filtering synapses. Currently we don’t know what a good size is.</p></li>
<li><p><strong>materialization</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'latest'</em>) – Materialization version to use. ‘latest’ (default) or ‘live’ for live table.</p></li>
<li><p><strong>return_pixels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to convert coordinate columns from nanometers to pixels.
If True (default), coordinates in ctr_pt_position, pre_pt_position, and
post_pt_position are converted using dataset scale factors.
If False, coordinates remain in nanometer units.</p></li>
<li><p><strong>clean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to perform cleanup of the synapse data:
- Remove autapses (self-connections)
- Remove connections involving neuron ID 0 (background)</p></li>
<li><p><strong>update_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to automatically update outdated root IDs to their latest versions
before querying. This ensures accurate results even after segmentation edits.
Uses efficient per-ID caching to minimize overhead for repeated queries.
Set to False only if you’re certain all IDs are current (faster but risky).</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Dataset to use for the query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame of synaptic connections.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If neither pre_ids nor post_ids are provided.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>When update_ids=True (default), outdated root IDs are automatically updated
using supervoxel IDs from annotations when available for fast, reliable updates</p></li>
<li><p>ID updates are cached per-ID, so repeated queries with overlapping IDs are efficient</p></li>
<li><p>Updated IDs are used for the query, but the original IDs are not modified in place</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_ids</span></code></dt><dd><p>Manually update root IDs to their latest versions</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.inject_dataset">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">inject_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allowed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disallowed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dataset'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/decorators.html#inject_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.inject_dataset" title="Link to this definition">#</a></dt>
<dd><p>Inject current default dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>allowed</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>] or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – List of allowed datasets or a single allowed dataset.</p></li>
<li><p><strong>disallowed</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>] or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – List of disallowed datasets or a single disallowed dataset.</p></li>
<li><p><strong>param_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'dataset'</em>) – Name of the parameter to inject the dataset into.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decorator function that injects the dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.is_latest_roots">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">is_latest_roots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_http_session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/helpers.html#is_latest_roots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.is_latest_roots" title="Link to this definition">#</a></dt>
<dd><p>Check if the given root IDs are the latest based on the timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>IDs = str</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><em>np.int64</em>) – The root IDs to check.</p></li>
<li><p><strong>timestamp</strong> (<em>Timestamp = str</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><em>np.int64</em><em> | </em><em>datetime</em><em> | </em><em>np.datetime64</em><em> | </em><em>pd.Timestamp</em>) – The timestamp to compare against. Can also be “mat” for the latest
materialization timestamp.</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The dataset to use.</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to show progress bar for large batches.</p></li>
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 100_000</em>) – Batch size for processing large numbers of IDs.</p></li>
<li><p><strong>validate_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to validate root IDs before processing.</p></li>
<li><p><strong>use_http_session</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to use direct HTTP session for better performance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean array indicating whether each root ID is the latest.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">crantpy.utils.cave.helpers</span><span class="w"> </span><span class="kn">import</span> <span class="n">is_latest_roots</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_latest_roots</span><span class="p">([</span><span class="mi">123456789</span><span class="p">,</span> <span class="mi">987654321</span><span class="p">])</span>
<span class="go">array([ True, False])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check against latest materialization</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_latest_roots</span><span class="p">([</span><span class="mi">123456789</span><span class="p">],</span> <span class="n">timestamp</span><span class="o">=</span><span class="s2">&quot;mat&quot;</span><span class="p">)</span>
<span class="go">array([ True])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.is_valid_root">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">is_valid_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_exc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/helpers.html#is_valid_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.is_valid_root" title="Link to this definition">#</a></dt>
<dd><p>Check if ID is (potentially) valid root ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>IDs = str</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><em>np.int64</em>) – The root IDs to check.</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The dataset to use.</p></li>
<li><p><strong>raise_exc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to raise an exception if invalid IDs are found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean array indicating whether each root ID is valid.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If raise_exc is True and invalid IDs are found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.is_valid_supervoxel">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">is_valid_supervoxel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_exc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/helpers.html#is_valid_supervoxel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.is_valid_supervoxel" title="Link to this definition">#</a></dt>
<dd><p>Check if ID is (potentially) valid supervoxel ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>IDs = str</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><em>np.int64</em>) – The supervoxel IDs to check.</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The dataset to use.</p></li>
<li><p><strong>raise_exc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to raise an exception if invalid IDs are found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If x is a single ID, returns bool. If x is iterable, returns array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)">bool</a> or np.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If raise_exc is True and invalid IDs are found.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#crantpy.is_valid_root" title="crantpy.is_valid_root"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_valid_root</span></code></a></dt><dd><p>Use this function to check if a root ID is valid.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.make_iterable">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">make_iterable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#make_iterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.make_iterable" title="Link to this definition">#</a></dt>
<dd><p>Convert input to an numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Any</em>) – The input to convert.</p></li>
<li><p><strong>force_type</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><em>type</em></a><em>]</em>) – If specified, the input will be cast to this type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The converted numpy array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.map_position_to_node">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">map_position_to_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neuron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#map_position_to_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.map_position_to_node" title="Link to this definition">#</a></dt>
<dd><p>Map a spatial position to the nearest node in a skeleton.</p>
<p>This utility function finds the closest node in a skeleton to a given position
using a KDTree for efficient spatial lookup. Useful for soma detection,
synapse attachment, and other spatial queries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neuron</strong> (<em>navis.TreeNeuron</em>) – The skeleton neuron to search.</p></li>
<li><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>np.ndarray</em>) – The [x, y, z] coordinates to map. Should be in the same coordinate
system as the neuron (typically nanometers).</p></li>
<li><p><strong>return_distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, also return the Euclidean distance to the nearest node.
Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>node_id</strong> (<em>int</em>) – The node_id of the nearest node.</p></li>
<li><p><strong>distance</strong> (<em>float (optional)</em>) – The Euclidean distance to the nearest node in nanometers.
Only returned if return_distance=True.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a>]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">crantpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skel</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_l2_skeleton</span><span class="p">(</span><span class="mi">576460752664524086</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Map a position to nearest node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node_id</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">map_position_to_node</span><span class="p">(</span><span class="n">skel</span><span class="p">,</span> <span class="p">[</span><span class="mi">240000</span><span class="p">,</span> <span class="mi">85000</span><span class="p">,</span> <span class="mi">96000</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nearest node: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get distance too</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node_id</span><span class="p">,</span> <span class="n">dist</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">map_position_to_node</span><span class="p">(</span><span class="n">skel</span><span class="p">,</span> <span class="p">[</span><span class="mi">240000</span><span class="p">,</span> <span class="mi">85000</span><span class="p">,</span> <span class="mi">96000</span><span class="p">],</span> <span class="n">return_distance</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nearest node: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> at distance </span><span class="si">{</span><span class="n">dist</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> nm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#crantpy.reroot_at_soma" title="crantpy.reroot_at_soma"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reroot_at_soma</span></code></a></dt><dd><p>Reroot a skeleton at its soma location.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_soma</span></code></dt><dd><p>Detect soma location in a neuron.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.match_dtype">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">match_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#match_dtype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.match_dtype" title="Link to this definition">#</a></dt>
<dd><p>Match the dtype of a value to a given dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>Any</em>) – The value to convert.</p></li>
<li><p><strong>dtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><em>type</em></a>) – The target dtype to convert to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The converted value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If the dtype is not supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.neurons_to_url">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">neurons_to_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neurons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_skeleton</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/neuroglancer.html#neurons_to_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.neurons_to_url" title="Link to this definition">#</a></dt>
<dd><p>Create neuroglancer URLs for a list of neurons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neurons</strong> (<em>NeuronList</em>) – List of neurons to create URLs for. Must have root_id attribute.</p></li>
<li><p><strong>include_skeleton</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Whether to include the skeleton in the URL.</p></li>
<li><p><strong>downsample</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Factor by which to downsample skeletons before adding to scene.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments passed to encode_url().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with columns: id, name, url</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">neurons</span> <span class="o">=</span> <span class="n">crt</span><span class="o">.</span><span class="n">viz</span><span class="o">.</span><span class="n">get_skeletons</span><span class="p">([</span><span class="mi">720575940621039145</span><span class="p">,</span> <span class="mi">720575940621039146</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">urls</span> <span class="o">=</span> <span class="n">neurons_to_url</span><span class="p">(</span><span class="n">neurons</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">urls</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.parse_neuroncriteria">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">parse_neuroncriteria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allow_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/decorators.html#parse_neuroncriteria"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.parse_neuroncriteria" title="Link to this definition">#</a></dt>
<dd><p>Parse all NeuronCriteria arguments into an array of root IDs.</p>
<p>This decorator automatically converts any NeuronCriteria objects in
function arguments to arrays of root IDs. It uses type checking by class
name to avoid circular imports.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>allow_empty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to allow the NeuronCriteria to not match any neurons.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decorator function that processes NeuronCriteria arguments.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@parse_neuroncriteria</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">process_neurons</span><span class="p">(</span><span class="n">neurons</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># neurons will be an array of root IDs</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">neurons</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Can be called with a NeuronCriteria object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">process_neurons</span><span class="p">(</span><span class="n">NeuronCriteria</span><span class="p">(</span><span class="n">cell_class</span><span class="o">=</span><span class="s1">&#39;example&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.parse_root_ids">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">parse_root_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neurons</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#parse_root_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.parse_root_ids" title="Link to this definition">#</a></dt>
<dd><p>Parse various neuron input types to a list of root ID strings.
:param neurons: The neuron(s) to parse. Can be a single root ID (int or str),</p>
<blockquote>
<div><p>a list of root IDs, or a NeuronCriteria object.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of root ID strings.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a>]</p>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>neurons</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>List</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>]</em><em>]</em><em>, </em><em>NeuronCriteria</em><em>]</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.parse_timestamp">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">parse_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#parse_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.parse_timestamp" title="Link to this definition">#</a></dt>
<dd><p>Parse a timestamp string to Unix timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>Timestamp</em>) – The timestamp string to parse. Int must be unix timestamp. String must be ISO 8601 - e.g. ‘2021-11-15’. datetime, np.datetime64, pd.Timestamp are also accepted.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The Unix timestamp.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.plot_em_image">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">plot_em_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#plot_em_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.plot_em_image" title="Link to this definition">#</a></dt>
<dd><p>Fetch and return an EM image slice from the precomputed CloudVolume.
Currently only supports slices through the Z axis (i.e. XY plane).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The x coordinate of the center of the image slice.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The y coordinate of the center of the image slice.</p></li>
<li><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The z coordinate of the image slice.</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – The size of the image slice (default is 1000).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The EM image slice as a numpy array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.reroot_at_soma">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">reroot_at_soma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neurons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soma_coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detect_soma_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#reroot_at_soma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.reroot_at_soma" title="Link to this definition">#</a></dt>
<dd><p>Reroot skeleton(s) at their soma location.</p>
<p>This convenience function combines soma detection and rerooting. If soma
coordinates are not provided, they will be automatically detected using
<cite>detect_soma()</cite>. The skeleton is then rerooted at the node nearest to
the soma location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neurons</strong> (<em>TreeNeuron</em><em> | </em><em>NeuronList</em>) – Single neuron or list of neurons to reroot.</p></li>
<li><p><strong>soma_coords</strong> (<em>np.ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>np.ndarray</em><em>, </em><em>optional</em>) – Soma coordinates in pixels [x, y, z]. If not provided, soma will be
automatically detected using <cite>detect_soma()</cite>. For multiple neurons,
provide a list of coordinates in the same order as neurons.</p></li>
<li><p><strong>detect_soma_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>, </em><em>optional</em>) – Additional keyword arguments to pass to <cite>detect_soma()</cite> if soma
coordinates are not provided.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, reroot neurons in place. If False, return rerooted copies.
Default is True.</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, show progress bar when processing multiple neurons or
detecting somas. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Rerooted neuron(s). Same as input if inplace=True, otherwise copies.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>TreeNeuron | NeuronList</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">crantpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get skeleton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skel</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_l2_skeleton</span><span class="p">(</span><span class="mi">576460752664524086</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Reroot at automatically detected soma</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skel_rerooted</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">reroot_at_soma</span><span class="p">(</span><span class="n">skel</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Root node: </span><span class="si">{</span><span class="n">skel_rerooted</span><span class="o">.</span><span class="n">root</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Reroot with provided soma coordinates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">soma</span> <span class="o">=</span> <span class="p">[</span><span class="mi">28000</span><span class="p">,</span> <span class="mi">9000</span><span class="p">,</span> <span class="mi">2200</span><span class="p">]</span>  <span class="c1"># in pixels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skel_rerooted</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">reroot_at_soma</span><span class="p">(</span><span class="n">skel</span><span class="p">,</span> <span class="n">soma_coords</span><span class="o">=</span><span class="n">soma</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Process multiple neurons</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skels</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">get_l2_skeleton</span><span class="p">([</span><span class="mi">576460752664524086</span><span class="p">,</span> <span class="mi">576460752590602315</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skels_rerooted</span> <span class="o">=</span> <span class="n">cp</span><span class="o">.</span><span class="n">reroot_at_soma</span><span class="p">(</span><span class="n">skels</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#crantpy.map_position_to_node" title="crantpy.map_position_to_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map_position_to_node</span></code></a></dt><dd><p>Map a position to the nearest node.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_soma</span></code></dt><dd><p>Detect soma location in a neuron.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.retry">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">retry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cooldown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#retry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.retry" title="Link to this definition">#</a></dt>
<dd><p>Retry function on HTTPError.</p>
<p>This also suppresses UserWarnings (commonly raised by l2 cache requests)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cooldown</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Cooldown period in seconds between attempts.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of retries before we give up. Every subsequent retry
will delay by an additional <cite>retry</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.retry_func">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">retry_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cooldown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/decorators.html#retry_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.retry_func" title="Link to this definition">#</a></dt>
<dd><p>Retry decorator for functions on HTTPError.
This also suppresses UserWarnings (commonly raised by l2 cache requests)
:param cooldown: Cooldown period in seconds between attempts.
:type cooldown: int | float
:param retries: Number of retries before we give up. Every subsequent retry</p>
<blockquote>
<div><p>will delay by an additional <cite>retry</cite>.</p>
</div></blockquote>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.scene_to_url">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">scene_to_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_neuroglancer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shorten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_clipboard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/neuroglancer.html#scene_to_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.scene_to_url" title="Link to this definition">#</a></dt>
<dd><p>Convert neuroglancer scene dictionary to URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scene</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – Neuroglancer scene dictionary.</p></li>
<li><p><strong>base_neuroglancer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to use base neuroglancer instead of CAVE Spelunker.</p></li>
<li><p><strong>shorten</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to create a shortened URL (requires state server).</p></li>
<li><p><strong>open</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, opens URL in web browser.</p></li>
<li><p><strong>to_clipboard</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, copies URL to clipboard.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Neuroglancer URL.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.set_cave_token">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">set_cave_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/auth.html#set_cave_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.set_cave_token" title="Link to this definition">#</a></dt>
<dd><p>Sets the CAVE token for the CAVE client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>token</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The CAVE token to set.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.set_default_dataset">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">set_default_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/config.html#set_default_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.set_default_dataset" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.set_logging_level">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">set_logging_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/helpers.html#set_logging_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.set_logging_level" title="Link to this definition">#</a></dt>
<dd><p>Sets the logging level for the logger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The logging level to set. Options are ‘DEBUG’, ‘INFO’, ‘WARNING’, ‘ERROR’, ‘CRITICAL’.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.skeletonize_neuron">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">skeletonize_neuron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shave_skeleton</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_soma_hairball</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assert_id_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_pcg_skel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#skeletonize_neuron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.skeletonize_neuron" title="Link to this definition">#</a></dt>
<dd><p>Skeletonize a neuron the main function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> (<em>CAVEclient</em>) – CAVE client for data access.</p></li>
<li><p><strong>root_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Root ID of the neuron to skeletonize.</p></li>
<li><p><strong>shave_skeleton</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Remove small protrusions and bristles from skeleton (from my understanding).</p></li>
<li><p><strong>remove_soma_hairball</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Remove the hairball mesh from the soma</p></li>
<li><p><strong>assert_id_match</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Verify skeleton nodes map to correct segment ID.</p></li>
<li><p><strong>threads</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 2</em>) – Number of parallel threads for mesh processing.</p></li>
<li><p><strong>save_to</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Save skeleton as SWC file to this path.</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Show progress bars during processing.</p></li>
<li><p><strong>use_pcg_skel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Try pcg_skel first before skeletor (CAVE-client skeletonization).</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments for skeletonization algorithms.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>navis.TreeNeuron</em> – The skeletonized neuron.</p></li>
<li><p><em># TODOs from fafbseg</em></p></li>
<li><p><em># - Use synapse locations as constraints</em></p></li>
<li><p><em># - Mesh preprocessing options</em></p></li>
<li><p><em># - Chunked skeletonization for large meshes</em></p></li>
<li><p><em># - Use soma annotations from external sources</em></p></li>
<li><p><em># - Better error handling/logging</em></p></li>
<li><p><em># - Allow user-supplied soma location/radius</em></p></li>
<li><p><em># - Option to return intermediate results</em></p></li>
<li><p><em># - Support more skeletonization algorithms</em></p></li>
<li><p><em># - Merge disconnected skeletons</em></p></li>
<li><p><em># - Custom node/edge attributes</em></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>navis.TreeNeuron | navis.NeuronList</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.skeletonize_neurons_parallel">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">skeletonize_neurons_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_cores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#skeletonize_neurons_parallel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.skeletonize_neurons_parallel" title="Link to this definition">#</a></dt>
<dd><p>Skeletonize multiple neurons in parallel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> (<em>CAVEclient</em>) – CAVE client for data access.</p></li>
<li><p><strong>root_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> or </em><em>np.ndarray</em>) – Root IDs of neurons to skeletonize.</p></li>
<li><p><strong>n_cores</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Number of cores to use. If None, uses half of available cores.</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – Show progress bars during processing.</p></li>
<li><p><strong>color_map</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Generate colors for each neuron using this colormap.
Returns tuple of (neurons, colors) instead of just neurons.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments passed to skeletonize_neuron.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>NeuronList of skeletonized neurons, or tuple of (NeuronList, colors)
if color_map is specified.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>navis.NeuronList or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.suppress_urllib3_connectionpool_warnings">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">suppress_urllib3_connectionpool_warnings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/viz/skeletonize.html#suppress_urllib3_connectionpool_warnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.suppress_urllib3_connectionpool_warnings" title="Link to this definition">#</a></dt>
<dd><p>Context manager to temporarily suppress urllib3 connectionpool messages.</p>
<p>Only filters the specific “Connection pool is full, discarding connection”
warnings while inside the context.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="crantpy.validate_cave_client">
<span class="sig-prename descclassname"><span class="pre">crantpy.</span></span><span class="sig-name descname"><span class="pre">validate_cave_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/crantpy/utils/cave/load.html#validate_cave_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crantpy.validate_cave_client" title="Link to this definition">#</a></dt>
<dd><p>Validate if a cached CAVE client is still valid.</p>
</dd></dl>

</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./api"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="modules.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">crantpy</p>
      </div>
    </a>
    <a class="right-next"
       href="crantpy.queries.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">crantpy.queries package</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subpackages">Subpackages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-crantpy">Module contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.FilteringError"><code class="docutils literal notranslate"><span class="pre">FilteringError</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.NoMatchesError"><code class="docutils literal notranslate"><span class="pre">NoMatchesError</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.add_annotation_layer"><code class="docutils literal notranslate"><span class="pre">add_annotation_layer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.add_skeleton_layer"><code class="docutils literal notranslate"><span class="pre">add_skeleton_layer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.attach_synapses"><code class="docutils literal notranslate"><span class="pre">attach_synapses()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.cached_per_id"><code class="docutils literal notranslate"><span class="pre">cached_per_id()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.cached_result"><code class="docutils literal notranslate"><span class="pre">cached_result()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.chunks_to_nm"><code class="docutils literal notranslate"><span class="pre">chunks_to_nm()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_all_caches"><code class="docutils literal notranslate"><span class="pre">clear_all_caches()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_cave_client_cache"><code class="docutils literal notranslate"><span class="pre">clear_cave_client_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_cloudvolume_cache"><code class="docutils literal notranslate"><span class="pre">clear_cloudvolume_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.clear_global_cache"><code class="docutils literal notranslate"><span class="pre">clear_global_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.configure_urllib3_warning_suppression"><code class="docutils literal notranslate"><span class="pre">configure_urllib3_warning_suppression()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.construct_scene"><code class="docutils literal notranslate"><span class="pre">construct_scene()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.create_sql_query"><code class="docutils literal notranslate"><span class="pre">create_sql_query()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.decode_url"><code class="docutils literal notranslate"><span class="pre">decode_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.detect_soma_mesh"><code class="docutils literal notranslate"><span class="pre">detect_soma_mesh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.detect_soma_skeleton"><code class="docutils literal notranslate"><span class="pre">detect_soma_skeleton()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.divide_local_neighbourhood"><code class="docutils literal notranslate"><span class="pre">divide_local_neighbourhood()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.encode_url"><code class="docutils literal notranslate"><span class="pre">encode_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.filter_df"><code class="docutils literal notranslate"><span class="pre">filter_df()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.generate_cave_token"><code class="docutils literal notranslate"><span class="pre">generate_cave_token()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_adjacency"><code class="docutils literal notranslate"><span class="pre">get_adjacency()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_cave_client"><code class="docutils literal notranslate"><span class="pre">get_cave_client()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_cave_datastacks"><code class="docutils literal notranslate"><span class="pre">get_cave_datastacks()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_cloudvolume"><code class="docutils literal notranslate"><span class="pre">get_cloudvolume()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_connectivity"><code class="docutils literal notranslate"><span class="pre">get_connectivity()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_current_cave_token"><code class="docutils literal notranslate"><span class="pre">get_current_cave_token()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_dataset_segmentation_source"><code class="docutils literal notranslate"><span class="pre">get_dataset_segmentation_source()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_datastack_segmentation_source"><code class="docutils literal notranslate"><span class="pre">get_datastack_segmentation_source()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_global_cache"><code class="docutils literal notranslate"><span class="pre">get_global_cache()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_skeletons"><code class="docutils literal notranslate"><span class="pre">get_skeletons()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_soma_from_annotations"><code class="docutils literal notranslate"><span class="pre">get_soma_from_annotations()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_synapse_counts"><code class="docutils literal notranslate"><span class="pre">get_synapse_counts()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.get_synapses"><code class="docutils literal notranslate"><span class="pre">get_synapses()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.inject_dataset"><code class="docutils literal notranslate"><span class="pre">inject_dataset()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.is_latest_roots"><code class="docutils literal notranslate"><span class="pre">is_latest_roots()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.is_valid_root"><code class="docutils literal notranslate"><span class="pre">is_valid_root()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.is_valid_supervoxel"><code class="docutils literal notranslate"><span class="pre">is_valid_supervoxel()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.make_iterable"><code class="docutils literal notranslate"><span class="pre">make_iterable()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.map_position_to_node"><code class="docutils literal notranslate"><span class="pre">map_position_to_node()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.match_dtype"><code class="docutils literal notranslate"><span class="pre">match_dtype()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.neurons_to_url"><code class="docutils literal notranslate"><span class="pre">neurons_to_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.parse_neuroncriteria"><code class="docutils literal notranslate"><span class="pre">parse_neuroncriteria()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.parse_root_ids"><code class="docutils literal notranslate"><span class="pre">parse_root_ids()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.parse_timestamp"><code class="docutils literal notranslate"><span class="pre">parse_timestamp()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.plot_em_image"><code class="docutils literal notranslate"><span class="pre">plot_em_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.reroot_at_soma"><code class="docutils literal notranslate"><span class="pre">reroot_at_soma()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.retry"><code class="docutils literal notranslate"><span class="pre">retry()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.retry_func"><code class="docutils literal notranslate"><span class="pre">retry_func()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.scene_to_url"><code class="docutils literal notranslate"><span class="pre">scene_to_url()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.set_cave_token"><code class="docutils literal notranslate"><span class="pre">set_cave_token()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.set_default_dataset"><code class="docutils literal notranslate"><span class="pre">set_default_dataset()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.set_logging_level"><code class="docutils literal notranslate"><span class="pre">set_logging_level()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.skeletonize_neuron"><code class="docutils literal notranslate"><span class="pre">skeletonize_neuron()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.skeletonize_neurons_parallel"><code class="docutils literal notranslate"><span class="pre">skeletonize_neurons_parallel()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.suppress_urllib3_connectionpool_warnings"><code class="docutils literal notranslate"><span class="pre">suppress_urllib3_connectionpool_warnings()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crantpy.validate_cave_client"><code class="docutils literal notranslate"><span class="pre">validate_cave_client()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By CRANTb Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>